&НаКлиенте
Процедура ЗапускТеста(Команда)
	// Подключимся к тестируемому приложению
	ТестируемоеПриложение = Новый ТестируемоеПриложение("localhost");
	// Пытаемся подключаться не более одной минуты
	ВремяОкончанияОжидания = ТекущаяДата() + 60; Подключен = Ложь;
	Пока Не ТекущаяДата() >= ВремяОкончанияОжидания Цикл 
		Попытка ТестируемоеПриложение.УстановитьСоединение();
		Подключен = Истина;
		Прервать;
	Исключение
	КонецПопытки;
КонецЦикла;
Если Не Подключен Тогда
	// Завершаем работу теста
	ТестируемоеПриложение = Неопределено;
	Сообщить("Не удалось установить соединение!");
	Возврат;
КонецЕсли;
// Найдем главное окно
ГлавноеОкноТестируемого = ТестируемоеПриложение.НайтиОбъект(Тип("ТестируемоеОкноКлиентскогоПриложения"));
ГлавноеОкноТестируемого.Активизировать();
// Выполним команду создания элемента справочника товаров 
ГлавноеОкноТестируемого.ВыполнитьКоманду("e1cib/command/Справочник.Склады.Создать");
ТестируемоеПриложение.ОжидатьОтображениеОбъекта(Тип("ТестируемаяФорма"), "Склад*");
ТестируемаяФорма = ТестируемоеПриложение.НайтиОбъект(Тип("ТестируемаяФорма"), "Склад*");
ТестируемаяФорма.Активизировать();
// Зададим наименование для нового товара
ЭлементФормы = ТестируемаяФорма.НайтиОбъект(Тип("ТестируемоеПолеФормы"), "Наименование");
ЭлементФормы.Активизировать(); ЭлементФормы.ВвестиТекст("Склад тест"); 
// Запишем элемент
ЭлементФормы = ТестируемаяФорма.НайтиОбъект(Тип("ТестируемаяКнопкаФормы"), "Записать и закрыть");
ЭлементФормы.Нажать();

КонецПроцедуры
